"use client";

import { useEffect } from "react";
import { useRouter } from "next/navigation";

interface SuccessModalProps {
  isOpen: boolean;
  onClose: () => void;
}

export default function SuccessModal({ isOpen, onClose }: SuccessModalProps) {
  const router = useRouter();

  useEffect(() => {
    if (isOpen) {
      // Prevent scrolling when modal is open
      document.body.style.overflow = "hidden";

      // Auto-redirect after 3 seconds
      //   const timer = setTimeout(() => {
      //     router.push("/");
      //   }, 3000);

      //   return () => {
      //     clearTimeout(timer);
      //   };
    } else {
      document.body.style.overflow = "auto";
    }
  }, [isOpen, router]);

  if (!isOpen) return null;

  return (
    <div className='fixed inset-0 bg-[#0000000c] bg-opacity-50 flex items-center justify-center z-50'>
      <div className='bg-white rounded-lg shadow-xl p-8 max-w-[670px] mx-auto text-center'>
        <div className='w-24 h-24 mx-auto mb-6'>
          <div className='w-full h-full rounded-full flex items-center justify-center'>
            <svg
              width='120'
              height='120'
              viewBox='0 0 120 120'
              fill='none'
              xmlns='http://www.w3.org/2000/svg'
            >
              <path
                d='M60 113.75C45.7446 113.75 32.0731 108.087 21.993 98.007C11.9129 87.927 6.25 74.2554 6.25 60C6.25 45.7447 11.9129 32.0731 21.993 21.9931C32.0731 11.913 45.7446 6.25004 60 6.25004C68.3764 6.22232 76.6385 8.19356 84.1 12C84.5399 12.2233 84.9316 12.531 85.2526 12.9056C85.5736 13.2802 85.8177 13.7144 85.9709 14.1833C86.1241 14.6523 86.1835 15.1468 86.1456 15.6386C86.1077 16.1305 85.9733 16.6101 85.75 17.05C85.5268 17.49 85.219 17.8816 84.8444 18.2026C84.4698 18.5236 84.0357 18.7677 83.5667 18.9209C83.0978 19.0742 82.6033 19.1335 82.1114 19.0956C81.6195 19.0577 81.1399 18.9233 80.7 18.7C74.2994 15.4012 67.2007 13.6866 60 13.7C50.8547 13.7 41.9148 16.4113 34.3101 21.4911C26.7054 26.5709 20.7774 33.7912 17.2754 42.2394C13.7734 50.6876 12.8545 59.9843 14.6351 68.9546C16.4156 77.9249 20.8155 86.1659 27.2787 92.6361C33.7419 99.1062 41.9781 103.515 50.9465 105.305C59.9148 107.095 69.2125 106.187 77.6645 102.694C86.1164 99.2009 93.3432 93.2807 98.4312 85.6815C103.519 78.0823 106.24 69.1453 106.25 60C106.276 59.5838 106.276 59.1663 106.25 58.75C106.157 57.7555 106.463 56.7648 107.101 55.9959C107.738 55.227 108.655 54.7429 109.65 54.65C110.645 54.5572 111.635 54.8633 112.404 55.5009C113.173 56.1385 113.657 57.0555 113.75 58.05V60C113.737 74.2514 108.07 87.9152 97.9924 97.9924C87.9152 108.07 74.2513 113.737 60 113.75Z'
                fill='#F99F04'
              />
              <path
                d='M59.1006 77.0501C58.6146 77.0573 58.1324 76.9632 57.6848 76.7738C57.2371 76.5844 56.8338 76.3039 56.5006 75.9501L32.3506 52.2501C31.6484 51.5469 31.2539 50.5938 31.2539 49.6001C31.2539 48.6063 31.6484 47.6532 32.3506 46.9501C33.0684 46.2566 34.0275 45.869 35.0256 45.869C36.0237 45.869 36.9828 46.2566 37.7006 46.9501L59.1506 68.1001L107.401 20.6501C108.118 19.9566 109.078 19.569 110.076 19.569C111.074 19.569 112.033 19.9566 112.751 20.6501C113.453 21.3532 113.847 22.3063 113.847 23.3001C113.847 24.2938 113.453 25.2469 112.751 25.9501L61.8506 75.9501C61.4927 76.3129 61.0637 76.5979 60.5905 76.7872C60.1173 76.9765 59.61 77.066 59.1006 77.0501Z'
                fill='#F99F04'
              />
            </svg>
          </div>
        </div>
        <h2 className='text-[32px] font-medium text-[#20474E] mb-2'>
          Successfully Subscribe
        </h2>
      </div>
    </div>
  );
}
